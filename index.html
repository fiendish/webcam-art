<html>
<head>
   <title>Glitch Experiment</title>
   <script type="text/javascript" src="//webrtc.github.io/adapter/adapter-latest.js"></script>
   <script type="text/javascript" src="oflow.js"></script>
   <script type="text/javascript" src="getimagedata.js"></script>
   <script type="text/javascript" src="glitch.js"></script>
   <link rel="stylesheet" href="//fiendish.github.io/gh-fork-banner/gh.css">
<style>
/* Recent Firefox versions (48 and 49, at least) seem to have a default styling bug that makes range inputs invisible. This fixes it. */
input[type=range] {
	border: 1px;
}
</style>
</head>
<body style='background-color:grey'>
   <center>

    Give access to your webcam and have fun.<br>
    Probably works Best in Chrome.<br>

   <canvas id='canvas'></canvas>
   <video id='video' style="display:none"></video>
   <!-- the test video clip (if you have no webcam) is from Big Buck Bunny http://www.bigbuckbunny.org/ -->
   <script type="text/javascript">
      // @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&dn=gpl-3.0.txt GPL-v3-or-Later
      main();
      // @license-end
   </script>

   <br>
   <form submit="return false" autocomplete="off" oninput="setValues();">
      <table>
      <tr>
      <td><label for="zoneSizeInput">Block Size</label></td>
      <td><input name="zoneSizeSlider" id="zoneSizeInput" type="range" min="4" max="64" value="16" step="4"></td>
      <td><output for="zoneSizeInput" id=zoneSizeOutput>16</output></td>
      </tr>
      
      <tr>
      <td><label for="thresholdInput">Motion Threshold</label></td>
      <td><input name="thresholdSlider" id="thresholdInput" type="range" min="0" max="15" value="5" step="1"></td>
      <td><output for="thresholdInput" id=thresholdOutput>5</output></td>
      </tr>
      
      <tr>
      <td><label for="stretchInput">Motion Stretch</label></td>
      <td><input name="stretchSlider" id="stretchInput" type="range" min="0" max="6" value="2" step="1"></td>
      <td><output for="stretchInput" id=stretchOutput>2</output></td>
      </tr>
      </table>
   </form>

   </center>

   <span id="gh"><a href="https://github.com/fiendish/webcam-art">Fork&nbsp;me&nbsp;on&nbsp;GitHub...lol</a></span>

<script type="text/javascript">
function setValues() {
   var zoneSize = document.getElementById('zoneSizeInput').valueAsNumber;
   document.getElementById('zoneSizeOutput').value = zoneSize; 
   setZoneSize(zoneSize);
   
   threshold = document.getElementById('thresholdInput').valueAsNumber
   document.getElementById('thresholdOutput').value = threshold;
   
   stretch = document.getElementById('stretchInput').valueAsNumber;
   document.getElementById('stretchOutput').value = stretch; 
}
</script>
</body>
</html>
